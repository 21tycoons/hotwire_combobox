<%= tag.fieldset class: "hw-combobox", data: parent_data do %>
  <%= hidden_field_tag value_field_attrs.delete(:name),
        value_field_attrs.delete(:value), **value_field_attrs %>

  <%= tag.input **attrs %>

  <%= tag.ul id: listbox_id, hidden: "", role: :listbox,
        data: { "hw-combobox-target": "listbox" } do |ul| %>
    <% options.each do |option| %>
      <%= tag.li hw_listbox_option_content(option),
            id: hw_listbox_option_id(option),
            role: :option,
            style: "cursor: pointer;",
            data: {
              "action": "click->hw-combobox#selectOption",
              "filterable-as": hw_listbox_option_filterable_as(option),
              "autocompletable-as": hw_listbox_option_autocompletable_as(option),
              "value": hw_listbox_option_value(option) } %>
    <% end %>
  <% end %>
<% end %>
